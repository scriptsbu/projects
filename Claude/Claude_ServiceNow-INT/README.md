# ServiceNow MCP Bootstrap
<img width="1024" height="1024" alt="snclaude" src="https://github.com/user-attachments/assets/db6f2fd5-e342-4635-81c3-1c504bec8e96" />

This project installs and configures a local ServiceNow MCP server for Claude Code on macOS.

## Included

- `servicenow_claude_bootstrap.sh`: Bootstrap installer script
- `DEPLOYMENT.md`: Deployment and verification steps

## ServiceNow Admin Requirements

Your ServiceNow admin must create and validate the following before rollout.

### 1. OAuth Application Registry

Create an OAuth client application for this MCP integration.

Required values:
- Client type: Public client (PKCE flow)
- Client ID: generated by ServiceNow
- Redirect URI: `http://localhost:8765/callback`
- Active: enabled
- Access token lifespan: configured (example from current setup: 1800 seconds)
- Refresh token lifespan: configured (example from current setup: long-lived)

Script variables this maps to:
- `SN_CLIENT_ID`
- `SN_REDIRECT_URI`

<img width="1873" height="789" alt="  Application Registries" src="https://github.com/user-attachments/assets/5c18c707-cf84-4617-9985-00462da105fe" />


### 2. REST API Auth Scope

Create/assign an auth scope that allows access to Table API for incidents.

Required values:
- REST API: Table API
- REST API path: `now/table`
- Auth scope name: value used by your tenant (example seen: `useraccount`)
- Apply scope options: configured by your security policy

Script variable this maps to:
- `SN_SCOPE`

<img width="1717" height="338" alt="  REST API Auth Scope" src="https://github.com/user-attachments/assets/5eea0278-e11c-4f83-b915-612d0b77f3f2" />


### 3. API Access Policy

Create an API Access Policy that permits incident reads through Table API.

Recommended minimum policy:
- REST API: Table API
- REST API path: `now/table`
- HTTP method: `GET`
- Resource: `/now/table/{tableName}`
- Table restriction: `incident`
- Policy active: enabled

<img width="1881" height="592" alt="  API Access Policies" src="https://github.com/user-attachments/assets/90e31f96-8bd0-4642-b0b8-5ddff25eee2d" />


### 4. Instance Base URL

Provide the ServiceNow instance base URL.

Script variable this maps to:
- `SN_BASE` (example format: `https://<instance>.servicenowservices.com`)

## Security Notes

- Do not commit production values if this repo will be public.
- Override values at runtime via environment variables instead of hardcoding sensitive tenant-specific values.
- The token cache file is stored locally in the user home directory.

## What This MCP Currently Supports

- `servicenow_ping`
- `get_recent_incidents`
- `get_incident_by_number`

